<div class="page-header">
    <div class="container">
        <h1>{{header}}</h1>
    </div>    
</div>

<div class="container">
    <div class="row">
        <div class="col-xs-12 row end-xs">
            <a routerLink="/students" class="mt-1">
                <button mat-raised-button color="primary">Back to Students</button>
            </a>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-6">
            <form #studentDetailsForm="ngForm" action="post">
                <div class="row">
                    <div class="col-xs-6">
                        <mat-form-field appearance="outline">
                            <mat-label>First Name</mat-label>
                            <input 
                                type="text" 
                                [(ngModel)]="student.firstName" 
                                matInput  
                                placeholder="First Name" 
                                name="firstName"
                            >
                        </mat-form-field>
                    </div>
                    <div class="col-xs-6">
                        <mat-form-field appearance="outline">
                            <mat-label>Last Name</mat-label>
                            <input 
                                matInput 
                                [(ngModel)]="student.lastName"  
                                placeholder="Last Name" 
                                name="lastName">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Choose a date</mat-label>
                            <input 
                                [(ngModel)]="student.dateOfBirth"  
                                matInput 
                                [matDatepicker]="picker"
                                name="dateOfBirth"
                            >
                            <mat-hint>MM/DD/YYYY</mat-hint>
                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                          </mat-form-field>
                    </div>
                </div>
                <div class="row">
                        <div class="col-xs-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Email</mat-label>
                                <input 
                                    [(ngModel)]="student.email"
                                    matInput  
                                    placeholder="Email" 
                                    name="Email">
                            </mat-form-field>
                        </div>
                        <div class="col-xs-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Mobile</mat-label>
                                <input 
                                    [(ngModel)]="student.mobile"
                                    matInput  
                                    placeholder="Mobile" 
                                    name="Mobile">
                            </mat-form-field>
                        </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Gender</mat-label>
                            <mat-select 
                                [(ngModel)]="student.genderId"
                                name="gender"
                            >
                                <mat-option *ngFor="let gender of genderList" [value]="gender.id">
                                    {{gender.description}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Physical Address</mat-label>
                            <textarea 
                                [(ngModel)]="student.address.physicalAddress"  
                                matInput
                                name="physical Address"
                            ></textarea>
                          </mat-form-field> 
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Postal Address</mat-label>
                            <textarea 
                                [(ngModel)]="student.address.postalAddress" 
                                matInput
                                name="postal Address"
                            ></textarea>
                          </mat-form-field> 
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div *ngIf="!isNewStudent" class="row between-xs">
                            <button
                                (click)="onUpdate()"
                                type="submit" 
                                mat-raised-button 
                                color="primary">
                                Save Changes
                            </button> <button
                                (click)="onDelete()"
                                type="submit" 
                                mat-raised-button 
                                color="warn">
                                Delete
                            </button>   
                        </div>
                        <div *ngIf="isNewStudent" class="row">
                            <button
                                (click)="onAdd()"
                                type="submit" 
                                mat-raised-button 
                                color="primary">
                                Create
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-xs-6">
            <div class="row center-xs">
                <div class="image-container">
                    <img [src]="displayProfileImageUrl" alt="Profile Image">
                </div>
            </div>
            <div class="row center-xs">
                <div class="col-xs-12">
                        <input
                            hidden
                            type="file" 
                            #imageUpload
                            (change)="uploadImage($event)"
                            accept="image/*"
                        >
                        <button 
                            class="mt-1"
                            (click)="imageUpload.click()"
                            mat-raised-button 
                            color="primary"
                        >
                            Upload Image
                        </button>
                </div>
        </div>
    </div>
</div>
